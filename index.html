<html lang="FR">
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <title>TD1 Cartographie</title>

    <style src="style.css"></style>

    <head>
        <h1> TD1 Géolocalisation</h1>
    </head>

    <div id="dvd"></div>

    <body>

        <h2>Exercice 2 : </h2>

        <h3>Avec getCurrentPosition() : </h3>
        <p id="Latitude"></p>
        <p id="Longitude"></p>
        <p id="Altitude"></p>
        <p id="Précision"></p>
        <p id="Vitesse"></p>
        <p id="Date"></p>

        <h3>Avec watchPosition() : </h3>
        <p id="Latitude1"></p>
        <p id="Longitude1"></p>
        <p id="Altitude1"></p>
        <p id="Précision1"></p>
        <p id="Vitesse1"></p>
        <p id="Date1"></p>

        <h2>Exercice 3 : </h2>
        <h3>Avec deviceMotion : </h3>
        <p id="alpha"></p>
        <p id="beta"></p>
        <p id="gamma"></p>
        <p id="accelrota"></p>
        <p id="acceltransla"></p>

        <h3>Avec deviceOrientation : </h3>
        <p id="alphaor"></p>
        <p id="betaor"></p>
        <p id="gammaor"></p>
        <p>Par contre il ne récupère pas la translation du téléphone sur les différents axes. </p>

    </body>

    <script src="dvd.js"></script>

    <script>
        lat = document.getElementById("Latitude");
        long = document.getElementById("Longitude");
        alt = document.getElementById("Altitude");
        prec = document.getElementById("Précision");
        vit = document.getElementById("Vitesse");
        date = document.getElementById("Date");

        lat1 = document.getElementById("Latitude1");
        long1 = document.getElementById("Longitude1");
        alt1 = document.getElementById("Altitude1");
        prec1 = document.getElementById("Précision1");
        vit1 = document.getElementById("Vitesse1");
        date1 = document.getElementById("Date1");

        alpha = document.getElementById("alpha");
        beta = document.getElementById("beta");
        gamma = document.getElementById("gamma");
        accelrota = document.getElementById("accelrota")
        acceltransla = document.getElementById("acceltransla")

        alphaor = document.getElementById("alphaor");
        betaor = document.getElementById("betaor");
        gammaor = document.getElementById("gammaor");

        navigator.geolocation.getCurrentPosition(showPositionCurrent);
        navigator.geolocation.watchPosition(showPositionWatch);

        window.addEventListener("devicemotion",(motion) => {
            alpha.innerHTML = "Vitesse de rotation sur l'axe z : " + motion.rotationRate.alpha
            beta.innerHTML = "Vitesse de rotation sur l'axe x : " + motion.rotationRate.beta
            gamma.innerHTML = "Vitesse de rotation sur l'axe y : " + motion.rotationRate.gamma
            accelrota.innerHTML = "Vitesse de translation sur y : " + motion.acceleration.y
            acceltransla.innerHTML = "Vitesse de translation sur x :" + motion.acceleration.x
        });

        window.addEventListener("deviceorientation",(motion) => {
            alphaor.innerHTML = "Vitesse de rotation sur l'axe z : " + motion.alpha
            betaor.innerHTML = "Vitesse de rotation sur l'axe x : " + motion.beta
            gammaor.innerHTML = "Vitesse de rotation sur l'axe y : " + motion.gamma
        });


        function showPositionCurrent(position){
            lat.innerHTML = "Latitude : " + position.coords.latitude
            long.innerHTML = "Longitude : " + position.coords.longitude
            alt.innerHTML = "Altitude : " + position.coords.altitude
            prec.innerHTML = "Précision : " + position.coords.accuracy
            vit.innerHTML = "Vitesse : " + position.coords.speed
            date.innerHTML = "Date : " + position.timestamp
        }

        function showPositionWatch(position){
            lat1.innerHTML = "Latitude Update : " + position.coords.latitude
            long1.innerHTML = "Longitude Update : " + position.coords.longitude
            alt1.innerHTML = "Altitude Update : " + position.coords.altitude
            prec1.innerHTML = "Précision Update : " + position.coords.accuracy
            vit1.innerHTML = "Vitesse Update : " + position.coords.speed
            date1.innerHTML = "Date Update : " + position.timestamp
        }

    </script>

</html>

